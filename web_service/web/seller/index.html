<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eshop</title>
    <link rel="stylesheet" href="../static/style/styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
    <link rel="stylesheet" href="seller.css">
</head>
<body>  



    <header id="header"> 
        
        <div class="upper-div">
            <div id="header-selectors">

                <div id="left-space">

                </div>
                
                <div id="left-headers"> 

                    <div class="navbar change" id="sidebar-close" onclick="menu_function(this)">

                        <div class="bar1"></div>
                        <div class="bar2"></div>
                        <div class="bar3"></div>
                    </div>
                    
                    <!-- <span class="option-select" onclick="Home_Style()"><a href="#">Home</a></span> -->
                </div>

                <div id="main-title">
                    <h1>E-SHOP</h1>
                </div>

                <div id="right-headers">
                  <span onclick="Profile(event)"><h2 id="user"></h2></span>
                  <span class="option-select" onclick="Logout(event, user)"><img id="logout" src="../static/assets/shutdown.png" alt="Logout"></span>
                </div>
            </div>
        </div>

    </header>

    <nav class="sidebar close" id="sdbar">

      
        <a href="#" class="logo">ESHOP</a>
        <div id="sidebar-top-seperator"><br><br><hr></div>
        <div class="menu-content">
          <ul class="menu-items">
            <div class="menu-title"><h2>Menu</h2></div>
            <li class="item">
              <div class="submenu-item">
                <span onclick="displayProducts();">My Products</span>
              </div>
            </li>
            <li class="item">
              <div class="submenu-item">
                <span onclick="displayAddProduct();" >Add Product</span>
              </div>
            </li>

            
          </ul>

         
        </div>
        <div class="admin-control">
            
          <ul class="menu-items">
            <div class="menu-title"><h2>Extra</h2></div>
            <li class="item">
              <a href="#">Profile</a>
            </li>
            <li class="item">
              <div class="submenu-item">
                <span>Settings</span>
              </div>

            </li>

            
          </ul>
        </div>

        <div class="qr-code">

        </div>
    </nav>


    <main id="main" role="main">

      <div class="create-product-form">

        <form id="product-form" onsubmit="return CreateItem(event);">
            <div id=create-product-tag><h2><p>Create Product</p></h2></div>
            <label id="product-title-label">Title:</label>
            <input id="product-title" name="register-username" type="text" placeholder="Title" required/> 
            
            <label id="product-price-label">Price:</label>
            <input type="text" id="product-price" name="product-price" placeholder="Price">
            
            <label id="product-quantity-label">Quantity:</label>
            <input type="number" id="product-quantity" name="product-quantity" min="1" max="1000">

            <input id="create-product-button" type="submit" value="Create Product"/>
        
            <div id="imageDepiction">
              <!-- Image depiction or preview will be displayed here -->
            </div>

            <div class="input-div">
              <p>Drag & drop image here or <span class=browse">Browse</span></p>
              <input type="file" class="file" accept="image/png, image/jpeg, image/jpg">
            </div>

        </form>

      </div>

      <script>
        let queuedImagesArray = [],
        inputDiv = document.querySelector(".input-div"),
        input = document.querySelector(".input-div input"),
        imageDepiction = document.getElementById("imageDepiction");
        deletedImages = [];

        //console.log("Element");
        // console.log(input);

        input.addEventListener("change", () => {
          const files = input.files;
          console.log(files);

          for (let i = 0; i < files.length; i++) {
            queuedImagesArray.push(files[i]);
          }
          displayQueuedImages();
        });

        inputDiv.addEventListener("drop", (e) => {
          e.preventDefault();
          const files = e.dataTransfer.files
          // console.log(files);

          for (let i = 0; i < files.length; i++){
            if (!files[i].type.match("image")) continue;

            if (queuedImagesArray.every(image => image.name !== files[i].name))
              queuedImagesArray.push(files[i]);
          }
          displayQueuedImages();
        });

        function displayQueuedImages() {
          let images = "";
          queuedImagesArray.forEach((image, index) => {
            images += `<div class="image">
                        <img src="${URL.createObjectURL(image)}" alt="image">
                        <span onclick="deleteQueuedImage(${index})">&times;</span>
                       </div>`
          });
          imageDepiction.innerHTML = images;

          
        }

        function deleteQueuedImage(index) {
          queuedImagesArray.splice(index, 1);
          displayQueuedImages();
        }

      </script>

      <div id="products-header">
        <h1>Products</h1>
        <br> <br>
        <hr>
      </div>

      <div id="productsDisplay">

      </div>

      <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
      <script src="seller.js"></script>

      <div id="basket"> 

      </div>


    </main>

    <footer id="footer">

        <h5>  ΠΛΗ 513 Project</h5>
        <div class="lower-div">
            <div id="lower-footer">
                
            </div>
        </div>
    </footer>


    <script src="../static/js/users.js"></script>
    <script src="../static/js/styles.js"></script>
    <script src="../static/js/profile.js"></script>


</body>
</html>